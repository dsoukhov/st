#!/bin/sh

tmpfile=$(mktemp /tmp/st-cmd-output.XXXXXX)
trap 'rm "$tmpfile"' 0 1 15
cat >"$tmpfile"
while getopts "vwsl" o; do case "${o}" in
	v) st -e nvim -c "normal G \$" "$tmpfile" -M ;;
  #TODO: FIX THESE
	w) st -e nvim -c "normal G \$" -c "lua require'hop'.hint_words()" "$tmpfile" -M ;;
	s) st -e nvim -c "normal G \$" -c "lua require'hop'.hint_patterns()" "$tmpfile" -M ;;
	l) st -e nvim -c "normal G \$" -c "lua require'hop'.hint_lines()" "$tmpfile" -M ;;
	*) exit ;;
esac done
